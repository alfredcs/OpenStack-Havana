// generated by Chef
global {
  perm_cache=2048;
  cache_dir="/var/cache/pdnsd";
  run_as="pdnsd";
  server_ip = 127.0.0.1;
  status_ctl = on;
  paranoid=on;
  min_ttl=15m; // Retain cached entries at least 15 minutes.
  max_ttl=1w;  // One week.
  timeout=10;  // Global timeout option (10 seconds).
}

<% unless @custom_servers.empty? %>
server {
  label = "substratum-custom";
  proxy_only = on;
  ip = <%= @custom_servers.join(',') %>;
}
<% end%>

server {
  label = "root-servers";
  root_server = on;
  ip = <%= @root_servers.join(',') %>;
  timeout = 5;
  uptest = query;
  interval = 30m;      // Test every half hour.
  ping_timeout = 300;  // 30 seconds.
  purge_cache = off;
  exclude = .localdomain;
  policy = included;
  preset = off;
}
